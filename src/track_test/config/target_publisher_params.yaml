# Target object trajectory configuration for ROS1
# Unit: space in meters, time in seconds, angles in radians
# Coordinate system: ENU (East-North-Up) for ROS1/MAVROS

# State machine interaction parameter
drone_id: 0                  # Drone ID, used to subscribe to state topic

# Trajectory type selection
# Options: "circle", "figure8", "d_shape"
trajectory_type: "circle"    # Trajectory type: circle (圆形), figure8 (八字), d_shape (D型)

# Unified trajectory parameters
# NOTE: Drone GOTO position is at trajectory_center
# Target starting point should be 1m in front of drone (at trajectory_center + [1.0, 0, 0])
trajectory_size: 2.0         # Trajectory size [m] (radius for circle, scale for figure8/d_shape)
trajectory_center_x: 0.0     # Trajectory center East position (ENU) [m] - Drone GOTO position
trajectory_center_y: 0.0     # Trajectory center North position (ENU) [m]
trajectory_center_z: 1.2     # Trajectory center Up position (ENU, positive is up) [m]
trajectory_times: 1          # Number of trajectory cycles
trajectory_duration: 16.0     # Single trajectory cycle duration [s]

# Legacy circular motion parameters (for backward compatibility)
circle_radius: 2.0           # Circular trajectory radius [m]
# Circle center adjusted so starting point (with init_phase=0) is 1m ahead of drone
# Starting point = circle_center + [R, 0] = trajectory_center + [1, 0]
# So: circle_center = trajectory_center - [R-1, 0] = [0, 0] - [1, 0] = [-1, 0]
circle_center_x: -1.0        # Circle center East position (ENU) [m] - offset to make start at drone+1m
circle_center_y: 0.0         # Circle center North position (ENU) [m]
circle_center_z: 1.2         # Circle center Up position (ENU, positive is up) [m]
circle_init_phase: 0.0       # Initial phase angle [rad] - 0 means start at [R, 0] relative to center
circle_times: 1              # Number of circles
circle_duration: 6.0         # Single circle duration [s]

# Motion smoothing parameters
ramp_up_time: 3.0            # Acceleration time [s]
ramp_down_time: 3.0          # Deceleration time [s]
stationary_time: 3.0         # Initial stationary time [s] (time to stay at initial position before motion starts)
                             # Initial position is 1m in front of trajectory center (along +x direction in ENU)

# Control parameters
timer_period: 0.02           # Publish period (50Hz) [s]
max_speed: -1.0              # Maximum linear speed limit [m/s] (negative value means no limit)

