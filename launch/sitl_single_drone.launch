<launch>
  <!-- Complete launch file for RealFlight with PX4 SITL + MAVROS -->
  
  <arg name="drone_id" default="0"/>
  <arg name="fcu_url" default="udp://:14540@127.0.0.1:14557"/>
  <arg name="gcs_url" default=""/>
  <arg name="tgt_system" default="1"/>
  <arg name="tgt_component" default="1"/>
  
  <!-- Launch MAVROS -->
  <include file="$(find mavros)/launch/px4.launch">
    <arg name="fcu_url" value="$(arg fcu_url)"/>
    <arg name="gcs_url" value="$(arg gcs_url)"/>
    <arg name="tgt_system" value="$(arg tgt_system)"/>
    <arg name="tgt_component" value="$(arg tgt_component)"/>
  </include>
  
  <!-- Launch offboard state machine -->
  <include file="$(find offboard_state_machine)/launch/single_drone.launch">
    <arg name="drone_id" value="$(arg drone_id)"/>
  </include>
  
</launch>

